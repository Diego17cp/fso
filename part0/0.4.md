sequenceDiagram
    participant user
    participant form
    participant server

    user->>form: Write any text or nothing in the "note" input
    user->>form: Click "save" button 

    form->>server: POST https://studies.cs.helsinki.fi/exampleapp/new_note
    activate server
    server-->>server: Process the request
    server->>server: Make the structure for the note obtaining the form's payload and the date
    server->>server: Push the new note to the notes array and return a redirect response
    deactivate server
    server-->>form: Send response and redirect to the /notes page

    form->>server: GET https://studies.cs.helsinki.fi/exampleapp/main.css
    activate server
    server-->>form: the css file
    deactivate server

    form->>server: GET https://studies.cs.helsinki.fi/exampleapp/main.js
    activate server
    server-->>form: the JavaScript file
    deactivate server

    Note right of form: The form starts executing the JavaScript code that fetches the JSON from the server

    form->>server: GET https://studies.cs.helsinki.fi/exampleapp/data.json
    activate server
    server-->>form: [{ "content": "HTML is easy", "date": "2023-1-1" }, ... ]
    deactivate server

    Note right of form: Now the page renders the new notes json with the new note sent